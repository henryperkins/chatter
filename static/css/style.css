@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        --primary-color: #007bff;
        --primary-hover: #0056b3;
        --user-bg: #e3f2fd;
        --assistant-bg: #f5f5f5;
        --system-bg: #fff3cd;
        --error-bg: rgba(255, 107, 107, 0.9);
        --radius: 8px;
        --shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        --transition: all 0.3s ease;
        --font-heading: 24px;
        --font-body: 16px;
        --input-border-color: #ddd;
        --input-focus-color: var(--primary-color);
    }

    body {
        @apply font-sans m-0 p-0 bg-gray-100 text-gray-800;
        font-size: var(--font-body);
    }

    /* Dark Mode */
    @media (prefers-color-scheme: dark) {
        :root {
            --primary-color: #1a73e8;
            --primary-hover: #1557b0;
            --user-bg: #2d3748;
            --assistant-bg: #4a5568;
            --system-bg: #f6ad55;
            --error-bg: rgba(255, 87, 87, 0.9);
            --input-border-color: #4a5568;
        }

        body {
            @apply bg-gray-900 text-gray-200;
        }
    }
}

@layer components {
    .navbar {
        @apply bg-white border-b border-gray-200 p-4;
    }

    .nav-container {
        @apply flex items-center justify-between;
    }

    .nav-logo {
        @apply text-2xl text-primary-color no-underline;
    }

    .nav-links a {
        @apply ml-4 text-gray-700 no-underline font-medium transition-colors duration-300;
    }

    .nav-links a:hover,
    .nav-links a:focus {
        @apply text-primary-color;
    }

    .auth-container {
        @apply flex justify-center items-center min-h-[calc(100vh-60px)];
    }

    .auth-box {
        @apply bg-white p-8 rounded-lg shadow-md w-full max-w-md;
    }

    .auth-box h1 {
        @apply text-center text-gray-800 text-2xl mb-8;
    }

    .form-group {
        @apply mb-4;
    }

    .form-group label {
        @apply block mb-2 text-gray-700 font-medium;
    }

    .form-group input {
        @apply w-full p-2 border border-gray-300 rounded-lg text-base transition-all duration-300;
    }

    .form-group input:focus {
        @apply outline-none border-primary-color shadow-outline;
    }

    .auth-button {
        @apply w-full py-3 bg-primary-color text-white border-none rounded-lg text-base cursor-pointer transition-all duration-300;
    }

    .auth-button:hover {
        @apply bg-primary-hover;
    }

    .auth-links {
        @apply text-center mt-4;
    }

    .auth-links a {
        @apply text-primary-color no-underline;
    }

    .auth-links a:hover {
        @apply underline;
    }

    .error-message {
        @apply bg-red-500 text-white p-2 rounded-lg mb-4 text-center;
    }

    .chat-container {
        @apply flex h-screen;
    }

    .sidebar {
        @apply w-72 bg-white border-r border-gray-200 p-5 overflow-y-auto;
    }

    .user-info {
        @apply flex items-center gap-2 p-4 mb-5 bg-gray-100 rounded-lg;
    }

    .user-info i {
        @apply text-2xl;
    }

    .logout-btn {
        @apply ml-auto text-red-600 no-underline;
    }

    .logout-btn:hover,
    .logout-btn:focus {
        @apply text-red-800;
    }

    .new-chat-btn {
        @apply w-full py-3 mb-5 bg-primary-color text-white border-none rounded-lg cursor-pointer transition-all duration-300 text-base;
    }

    .new-chat-btn:hover {
        @apply bg-primary-hover;
    }

    .chat-history {
        @apply flex-grow;
    }

    .conversation-item {
        @apply flex items-center p-2 mb-1 rounded-lg cursor-pointer transition-all duration-300 bg-white;
    }

    .conversation-item:hover,
    .conversation-item:focus {
        @apply bg-gray-100;
    }

    .conversation-item.active {
        @apply bg-primary-color text-white;
    }

    .conversation-item i {
        @apply mr-2;
    }

    .delete-conversation-btn {
        @apply ml-auto text-red-600 cursor-pointer transition-all duration-300;
    }

    .delete-conversation-btn:hover {
        @apply text-red-800;
    }

    .main-content {
        @apply flex-grow flex flex-col overflow-hidden pb-12;
    }

    .chat-box {
        @apply flex-grow p-5 overflow-y-auto bg-gray-50 relative;
    }

    .message {
        @apply max-w-3/4 mb-4 p-3 rounded-lg shadow-sm;
        word-wrap: break-word;
        white-space: pre-wrap;
    }

    .message.user {
        @apply bg-user-bg ml-auto;
    }

    .message.assistant {
        @apply bg-assistant-bg mr-auto;
    }

    .message.system {
        @apply bg-system-bg mx-auto text-center;
    }

    input[type='file'] {
        @apply border border-input-border-color rounded-lg bg-gray-100 p-2 cursor-pointer text-base;
    }

    .footer {
        @apply text-center p-4 bg-gray-100 border-t border-gray-200 fixed bottom-0 w-full;
    }

    .model-management {
        @apply mb-5;
    }

    .model-management select {
        @apply w-full p-2 mb-2 border border-input-border-color rounded-lg text-base transition-all duration-300;
    }

    .model-management select:focus {
        @apply outline-none border-input-focus-color shadow-outline;
    }

    .model-management button {
        @apply w-full p-2 mb-2 bg-primary-color text-white border-none rounded-lg text-base cursor-pointer transition-all duration-300;
    }

    .model-management button:hover {
        @apply bg-primary-hover;
    }

    @media (prefers-color-scheme: dark) {
        .navbar {
            @apply bg-gray-800 border-b-gray-700;
        }

        .sidebar {
            @apply bg-gray-800 border-r-gray-700;
        }

        .nav-logo,
        .nav-links a {
            @apply text-gray-200;
        }

        .chat-box {
            @apply bg-gray-900;
        }

        .message {
            @apply text-gray-200;
        }

        .message.user {
            @apply bg-user-bg;
        }

        .message.assistant {
            @apply bg-assistant-bg;
        }

        .message.system {
            @apply bg-system-bg;
        }
    }

    @media (max-width: 768px) {
        .chat-container {
            @apply flex-col;
        }

        .sidebar {
            @apply w-full order-2;
        }

        .main-content {
            @apply order-1;
        }
    }
}